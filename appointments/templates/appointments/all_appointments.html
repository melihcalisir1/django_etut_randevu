{% extends 'appointments/base_admin.html' %}
{% block title %}TÃ¼m Randevular{% endblock %}
{% block admin_content %}

<div class="container mt-4">
    <h3 class="mb-4">ðŸ“‹ TÃ¼m Randevular</h3>

    {% if messages %}
    {% for message in messages %}
    <div class="alert alert-{{ message.tags }} alert-dismissible fade show">
        {{ message }}
        <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
    </div>
    {% endfor %}
    {% endif %}

    <div class="card shadow-sm">
        <div class="card-body">
            <table class="table table-striped table-hover align-middle">
                <thead class="table-dark">
                <tr>
                    <th>ID</th>
                    <th>Ã–ÄŸrenci</th>
                    <th>Tarih</th>
                    <th>Saat</th>
                    <th>Durum</th>
                    <th>Not</th>
                </tr>
                </thead>
                <tbody>
                {% for appointment in appointments %}
                <tr>
                    <td>{{ appointment.id }}</td>
                    <td>{{ appointment.student.username }}</td>
                    <td>{{ appointment.availability.date|date:"d.m.Y" }}</td>
                    <td>{{ appointment.availability.start_time|time:"H.i" }} - {{ appointment.availability.end_time|time:"H.i" }}</td>
                    <td>
                        {% if appointment.status == 'approved' %}
                        <span class="badge bg-success">OnaylÄ±</span>
                        {% elif appointment.status == 'cancelled' %}
                        <span class="badge bg-danger">Ä°ptal</span>
                        {% elif appointment.status == 'no_show' %}
                        <span class="badge bg-warning text-dark">Gelmedi</span>
                        {% else %}
                        <span class="badge bg-secondary">Bekliyor</span>
                        {% endif %}
                    </td>
                    <td>{{ appointment.cancel_reason|default:"-" }}</td>
                </tr>
                {% empty %}
                <tr>
                    <td colspan="6" class="text-center text-muted">HenÃ¼z randevu bulunmuyor.</td>
                </tr>
                {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
</div>

{% endblock %}